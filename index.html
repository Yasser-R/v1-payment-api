<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <title>Dwolla API Docs</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="javascripts/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["json","php","ruby","python","js"]);
        });
      </script>
  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <img class="logo" src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search">
        </div>
        <div class="search-info"></div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.dwolla.com/applications/create' target="_blank">Get API Credentials</a></li>
            <li><a href='https://sandbox.uat.dwolla.com/' target="_blank">Sandbox Admin</a></li>
            <li><a href='http://github.com/tripit/slate' target="_blank">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>
<pre class="highlight plaintext">  _          _ _             
 | |__   ___| | | ___        
 | '_ \ / _ \ | |/ _ \       
 | | | |  __/ | | (_) |      
 |_| |_|\___|_|_|\___/     _ 
 __      _____  _ __| | __| |
 \ \ /\ / / _ \| '__| |/ _` |
  \ V  V / (_) | |  | | (_| |
   \_/\_/ \___/|_|  |_|\__,_|

</pre>

<p>Welcome to the Dwolla API docs. This is a listing of all publically available endpoints which allow developers to modify their accounts, process transactions, find other users, and modify funding sources. All endpoints are listed in the sidebar to the left. </p>

<p>Example requests are available in JSON, PHP, Ruby, Python, and Node.js in the dark area to the right. JSON is shown by default, however, the tabs in the top right can be used to switch the language in which the examples are displayed in.</p>

<h2 id="helper-libraries">Helper Libraries</h2>
<pre class="highlight plaintext">We'll you show sample code on this pane!
</pre>
<pre class="highlight plaintext">Quote of the day:

&lt;erno&gt; hm. I've lost a machine.. literally _lost_. it responds to ping, it works completely, I just can't figure out where in my apartment it is.

</pre>

<p>A handful of libraries are officially maintained, and others are community maintained.</p>

<ul>
<li>PHP: <a href="https://github.com/Dwolla/dwolla-php">dwolla-php</a></li>
<li>Ruby: <a href="https://github.com/Dwolla/dwolla-ruby">dwolla-ruby</a></li>
<li>Python: <a href="https://github.com/Dwolla/dwolla-python">dwolla-python</a></li>
<li>Node.JS: <a href="https://github.com/Dwolla/dwolla-node">dwolla-node</a></li>
<li>Java: <a href="https://github.com/Dwolla/dwolla-java">dwolla-java</a></li>
<li>Clojure: <a href="https://github.com/Dwolla/dwolla-clojure">dwolla-clojure</a></li>
<li>Scala: <a href="https://github.com/Dwolla/dwolla-scala">dwolla-scala</a></li>
<li>Windows 8 SDK

<ul>
<li><a href="http://www.nuget.org/packages/Dwolla.InAppSDKWP8/">Phone</a></li>
<li><a href="http://www.nuget.org/packages/Dwolla.InAppSDK/">XAML</a></li>
<li><a href="http://www.nuget.org/packages/Dwolla.InAppSDK.JS/">JS</a></li>
</ul></li>
<li>iOS: <a href="https://github.com/Dwolla/dwolla-ios">dwolla-ios</a></li>
<li>OS X Cocoa: <a href="https://github.com/Dwolla/dwolla-cocoa">dwolla-cocoa</a></li>
<li>Perl: <a href="http://search.cpan.org/dist/WebService-Dwolla/">WebService-Dwolla</a></li>
<li>C# / .NET: <a href="https://github.com/justinsoliz/dwolla.net">dwolla.net</a></li>
</ul>

<h2 id="making-requests">Making Requests</h2>

<p>All requests must be made over HTTPS.  Any HTTP requests are met with a HTTP 302 to its HTTPS equivalent.</p>
<pre class="highlight plaintext">POST https://www.dwolla.com/oauth/rest/transactions/send
Content-Type: application/json

{
    amount: 15.23,
    destinationId: 'gordon@dwolla.com',
    destinationType: 'Email',
    pin: 1234
}
</pre>

<p><code class="prettyprint">POST</code> requests must have a JSON encoded body and the 
<code class="prettyprint">Content-Type: application/json</code> header.</p>

<p><code class="prettyprint">GET</code> requests have parameters provided in the querysting.</p>
<pre class="highlight plaintext">GET https://www.dwolla.com/oauth/rest/transactions?client_id=XYZ&amp;client_secret=JJJ&amp;limit=10
</pre>

<p><aside class="notice">
Remember to <a href="http://en.wikipedia.org/wiki/Percent-encoding">url-encode</a> all GET querystring parameters!
</aside></p>

<h2 id="responses">Responses</h2>

<blockquote>
<p>Happy response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mi">71332</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>Unsuccessful response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid access token."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Responses are always JSON encoded and are contained in an <em>envelope</em>.  </p>

<p>That means every API response contains: </p>

<ul>
<li><code class="prettyprint">Success</code>, a boolean indicating whether or not the call was successful, or resulted in an error</li>
<li><code class="prettyprint">Message</code>, an error message if the API call was unsuccessful, or <code class="prettyprint">&quot;Success&quot;</code> otherwise</li>
<li><code class="prettyprint">Response</code>, the actual data returned by the API call.</li>
</ul>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>You&rsquo;ll need to provide your Application key and secret when you initialize our libraries.</p>
</blockquote>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">Dwolla</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'dwolla'</span><span class="p">)(</span><span class="s2">"key here"</span><span class="p">,</span> <span class="s2">"secret here"</span><span class="p">);</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">setToken</span><span class="p">(</span><span class="s2">"token goes here"</span><span class="p">);</span>
</pre>
<pre class="highlight ruby"><span class="nb">require</span> <span class="s1">'dwolla'</span>

<span class="c1"># set API keys</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="n">api_key</span> <span class="o">=</span> <span class="s2">"blahblahblah"</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="n">api_secret</span> <span class="o">=</span> <span class="s2">"shhhhhh"</span>

<span class="c1"># set an OAuth access token</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="n">token</span> <span class="o">=</span> <span class="s2">"JRRTolkien"</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="s1">'dwolla.php'</span><span class="p">;</span>

<span class="c1">// Instantiate a new Dwolla REST Client
</span><span class="nv">$Dwolla</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaRestClient</span><span class="p">(</span><span class="s2">"key goes here"</span><span class="p">,</span> <span class="s2">"secret goes here"</span><span class="p">);</span>

<span class="c1">// Set an OAuth access token:
</span><span class="nv">$Dwolla</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s2">"token goes here"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight python"><span class="kn">from</span> <span class="nn">dwolla</span> <span class="kn">import</span> <span class="n">DwollaClientApp</span><span class="p">,</span> <span class="n">DwollaUser</span>

<span class="c"># Instantiate a new Dwolla client</span>
<span class="n">Dwolla</span> <span class="o">=</span> <span class="n">DwollaClientApp</span><span class="p">(</span><span class="s">"key goes here"</span><span class="p">,</span> <span class="s">"secret goes here"</span><span class="p">)</span>

<span class="c"># set an OAuth access token</span>
<span class="n">DwollaUser</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="p">(</span><span class="s">"token goes here"</span><span class="p">)</span>
</pre>

<p>To interact with the API, you will need API keys.  <a href="https://www.dwolla.com/applications/create">Create a consumer application</a> in order to get an Application <code class="prettyprint">key</code> and <code class="prettyprint">secret</code>.</p>

<p>Some API endpoints only require your application <code class="prettyprint">key</code> and <code class="prettyprint">secret</code> (for instance, <a href="#create-a-checkout">creating a checkout</a> or <a href="#lookup-user">looking up a user</a>), but most require an OAuth <code class="prettyprint">access_token</code>.</p>

<p>For endpoints that require an OAuth access token, it should be included in the Authorization HTTP header like so:</p>

<p><code class="prettyprint">Authorization: Bearer &lt;T0K3N_H3R3&gt;</code></p>

<p><aside class="notice">
Needless to say, you should replace <code class="prettyprint">&lt;T0K3N_H3R3&gt;</code> with an OAuth <code class="prettyprint">access_token</code>!
</aside></p>

          <h1 id="oauth">OAuth</h1>
<pre class="highlight plaintext">  /$$$$$$   /$$$$$$              /$$     /$$      
 /$$__  $$ /$$__  $$            | $$    | $$      
| $$  \ $$| $$  \ $$ /$$   /$$ /$$$$$$  | $$$$$$$ 
| $$  | $$| $$$$$$$$| $$  | $$|_  $$_/  | $$__  $$
| $$  | $$| $$__  $$| $$  | $$  | $$    | $$  \ $$
| $$  | $$| $$  | $$| $$  | $$  | $$ /$$| $$  | $$
|  $$$$$$/| $$  | $$|  $$$$$$/  |  $$$$/| $$  | $$
 \______/ |__/  |__/ \______/    \___/  |__/  |__/                                                          

</pre>

<p>Dwolla&rsquo;s API lets you interact with a user&rsquo;s Dwolla account and act on its behalf to send money, request money, and more.  To do so, your application first needs to request authorization from users.  </p>

<p>Dwolla implements the <a href="http://oauth.net/2/">OAuth 2.0 standard</a> to facilitate this authorization. Similar to Facebook and Twitter&rsquo;s authentication flow, the user is first presented with a permission dialog for your application, at which point the user can either approve the permissions requested, or reject them. Once the user approves, an <code class="prettyprint">authorization_code</code> is sent to your application, which will then <a href="#finish-authorization">be exchanged</a> for an <code class="prettyprint">access_token</code> and a <code class="prettyprint">refresh_token</code> pair. </p>

<p>The <code class="prettyprint">access_token</code> can then be used to make API calls which require user authentication like <a href="#send-money">Send</a> or <a href="#list-a-user's-transactions">List Transactions</a>. </p>

<h3 id="token-lifetimes">Token lifetimes</h3>

<p><strong>Access tokens</strong> are <em>short lived</em>: 1 hour.</p>

<p><strong>Refresh tokens</strong> are <em>long lived</em>: 60 days.</p>

<p>A refresh token can be used within 60 days to generate a new access_token and refresh_token pair.  So long as you <a href="#refresh-authorization">refresh your authorization</a> at least every 60 days, your application can maintain authorization indefinitely without requiring the user to re-authorize.</p>

<h2 id="request-authorization">Request Authorization</h2>

<blockquote>
<p>Example initiation URL:</p>
</blockquote>
<pre class="highlight plaintext">https://www.dwolla.com/oauth/v2/authenticate?client_id=abcdefg&amp;response_type=code&amp;redirect_uri=https%3A%2F%2Fwww.myredirect.com%2Fredirect&amp;scope=send|transactions
</pre>

<p>To start the OAuth process, construct the initiation URL which the user will visit in order to grant permission to your application.  It describes the permissions your application requires (<code class="prettyprint">scope</code>), who the client application is (<code class="prettyprint">client_id</code>), and where the user should be redirected to after they grant or deny permissions to your application (<code class="prettyprint">redirect_uri</code>).</p>

<h3 id="url-format:">URL Format:</h3>

<p><code class="prettyprint">
https://www.dwolla.com/oauth/v2/authenticate?client_id={client_id}&amp;response_type=code&amp;redirect_uri={redirect_uri}&amp;scope={scope}
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>response_type</td>
<td>This must always be set to <code class="prettyprint">code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td>URL where the user will be redirected to afterwards</td>
</tr>
<tr>
<td>scope</td>
<td>Permissions you are requesting.  See <a href="#oauth-scopes">below</a> for list of available scopes.  Scopes are delimited by a pipe (&ldquo;&#124;&rdquo;)</td>
</tr>
</tbody></table>

<p><aside class="notice">
Remember to url-encode all querystring parameters!
</aside></p>

<h3 id="oauth-scopes">OAuth Scopes</h3>

<p>Applications may request the following permission scopes when generating an access token:</p>

<table><thead>
<tr>
<th>Scope Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>AccountInfoFull</td>
<td>Access detailed account profile</td>
</tr>
<tr>
<td>Contacts</td>
<td>Access the user&rsquo;s contacts</td>
</tr>
<tr>
<td>Transactions</td>
<td>Access the user&rsquo;s transaction data</td>
</tr>
<tr>
<td>Balance</td>
<td>Access the user&rsquo;s Dwolla account balance</td>
</tr>
<tr>
<td>Send</td>
<td>Send money on the user&rsquo;s behalf</td>
</tr>
<tr>
<td>Request</td>
<td>Send money requests, list them, fulfill them</td>
</tr>
<tr>
<td>Funding</td>
<td>Access the user&rsquo;s funding sources (i.e. connected bank accounts)</td>
</tr>
<tr>
<td>ManageAccount</td>
<td>Manage the user&rsquo;s account settings</td>
</tr>
</tbody></table>

<h2 id="finish-authorization">Finish Authorization</h2>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"h6TvQZH+5BsV//O43uOJ0uRkBLk="</span><span class="p">,</span><span class="w">
  </span><span class="s2">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redirect_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.myredirect.com/redirect"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>Successful Response:</p>
</blockquote>
<pre class="highlight plaintext">{
    "access_token": "YLAZSreh165CAD2tPhAEzFCYYIrVyFomLWUDMGFBZIw9KtIg4q",
    "expires_in": 35,
    "refresh_token": "Pgk+l9okjwTCfsvIvEDPrsomE1er1txeyoaAkTIBAuXza8WvZY",
    "refresh_expires_in": 5184000,
    "token_type": "bearer"
}
</pre>

<p>Once the user returns to your application via the <code class="prettyprint">redirect_uri</code> you specified, there will be a <code class="prettyprint">code</code> querystring parameter appended to that URL.  Exchange the authorization <code class="prettyprint">code</code> for an <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>code</td>
<td>The authorization code included in the redirect URL</td>
</tr>
<tr>
<td>grant_type</td>
<td>This must be set to <code class="prettyprint">authorization_code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td>The same redirect_uri specified in the intiation step</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>refresh_expires_in</td>
<td>The lifetime of the refresh token, in seconds.  Default is 5184000.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
</tbody></table>

<h2 id="refresh-authorization">Refresh Authorization</h2>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pgk+l9okjwTCfsvIvEDPrsomE1er1txeyoaAkTIBAuXza8WvZY"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refresh_token"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>Successful Response:</p>
</blockquote>
<pre class="highlight plaintext">{
    "access_token": "hr1tSJk23tOv9RxR8cQuDpUD/kpUgf0cb9WfKtRoPxTw8ymbVt",
    "expires_in": 3600,
    "refresh_token": "lqopeyjq5AJln5fpMedElUULz+XBNNw9nAkIinxE0g4aEzxmDc",
    "refresh_expires_in": 5184000,
    "token_type": "bearer"
}
</pre>

<p>Use a valid <code class="prettyprint">refresh_token</code> to generate a new <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>

<h3 id="request-url">Request URL</h3>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>refresh_token</td>
<td>A valid refresh token</td>
</tr>
<tr>
<td>grant_type</td>
<td>This must be set to <code class="prettyprint">refresh_token</code></td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>refresh_expires_in</td>
<td>The lifetime of the refresh token, in seconds.  Default is 5184000.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
</tbody></table>

          <h1 id="metadata">Metadata</h1>

          <h1 id="webhooks">Webhooks</h1>

          <h1 id="auto-withdrawal">Auto Withdrawal</h1>

<p>Dwolla allows users to withdraw funds from their Dwolla balance funding sources associated with the account. The API exposes methods to toggle auto-withdrawal functionality.</p>

<p>These endpoints require an OAuth token with the <code class="prettyprint">ManageAccount</code> scope. </p>

<h2 id="get-auto-withdrawal-status">Get Auto Withdrawal Status</h2>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * Example 1:
 * Get autowithdrawal status for the 
 * account associted with the OAuth token
 */

$status = $Dwolla-&gt;getAutoWithdrawalStatus();
if(!$status) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($status); } // Print status
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1:</span>
<span class="c1">#   Get autowithdrawal status of the user</span>
<span class="c1">#   associated with the current OAuth token</span>

<span class="n">pp</span> <span class="no">Dwolla</span><span class="p">.</span><span class="nf">get_autowithdrawal_status</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
        Fetch autowithdraw status for the account
        associated with the current OAuth token.
'''</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_autowithdraw_status</span>
<span class="k">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Find out whether or not auto-withdrawal is enabled for the user
 * associated with the OAuth token
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">getAutoWithdrawalStatus</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/accounts/features/auto_withdrawl?oauth_token={token}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>A valid OAuth token with <code class="prettyprint">ManageAccount</code> scope.</td>
</tr>
</tbody></table>

<h2 id="set-auto-withdrawal-status">Set Auto Withdrawal Status</h2>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * Example 1:
 * Enable autowithdraw for funding source '12345' under the
 * account associted with the OAuth token
 */

$status = $Dwolla-&gt;toggleAutoWithdrawalStatus('true', '12345');
if(!$status) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($status); } // Print status
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1:</span>
<span class="c1">#   Enable autowithdraw for funding source '12345' under the</span>
<span class="c1">#   associated with the current OAuth token</span>

<span class="n">pp</span> <span class="no">Dwolla</span><span class="p">.</span><span class="nf">auto_withdrawal</span><span class="p">(</span><span class="kp">true</span><span class="p">,</span> <span class="s1">'12345'</span><span class="p">)</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
        nable autowithdraw for funding source '12345' under the
        associated with the current OAuth token.
'''</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">set_autowithdraw_status</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="s">'12345'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Enable auto-withdraw for the user associated with the OAuth token,
 * for the funding ID '1234567'.
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">toggleAutoWithdraw</span><span class="p">(</span><span class="s1">'true'</span><span class="p">,</span> <span class="s1">'1234567'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/accounts/features/auto_withdrawl
Content-Type: application/json
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>A valid OAuth token with <code class="prettyprint">ManageAccount</code> scope.</td>
</tr>
<tr>
<td>enabled</td>
<td>no</td>
<td>Boolean value of autowithdrawal feature.</td>
</tr>
<tr>
<td>fundingId</td>
<td>no</td>
<td>Funding source ID of account to autowithdraw funds to.</td>
</tr>
</tbody></table>

          <h1 id="checkouts">Checkouts</h1>

<p>Create a checkout on our <a href="/dev/pages/gateway#ux">Off-Site Gateway</a>. </p>

<p>Checkout sessions must be completed by the user within <strong>15 minutes</strong> of their creation. </p>

<p>There are two types of checkouts:</p>

<h3 id="standard-checkout">Standard Checkout</h3>

<p>A standard checkout means the payment is placed automatically and immediately after the user clicks the <em>Submit</em> button on the confirmation screen.</p>

<h3 id="paylater-checkout">PayLater Checkout</h3>

<p>A PayLater checkout means the user is redirected back to your site after clicking <em>Continue</em> on the confirmation screen.  No payment is created yet.  </p>

<p>You will have 15 minutes to <a href="#complete-a-paylater-checkout">complete the Checkout</a> in order to place the payment.</p>

<p>To create a PayLater Checkout, set <code class="prettyprint">checkoutWithApi</code> to <code class="prettyprint">true</code>.</p>

<h2 id="create-a-checkout">Create a Checkout</h2>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.something.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redirect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.something.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"checkoutWithApi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allowFundingSources"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"additionalFundingSources"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"purchaseOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prime Rib Sandwich"</span><span class="p">,</span><span class="w"> 
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A somewhat tasty non-vegetarian sandwich"</span><span class="p">,</span><span class="w"> 
                </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
    </span><span class="s2">"destinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-740-4294"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blahhh"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"something"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another thing"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>If successful, you&rsquo;ll get this back:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"CheckoutId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"684862bc-8d94-4e53-9c41-26398b4b7fac"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>Simply append the resulting <code class="prettyprint">CheckoutId</code> to this URI: <code class="prettyprint">https://www.dwolla.com/payment/checkout/</code></p>
</blockquote>
<pre class="highlight plaintext">https://www.dwolla.com/payment/checkout/684862bc-8d94-4e53-9c41-26398b4b7fac
</pre>

<blockquote>
<p>Then send your user there!</p>
</blockquote>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/offsitegateway/checkouts</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td></td>
<td>Your Application Key</td>
</tr>
<tr>
<td>client_secret</td>
<td></td>
<td>Your Application Secret</td>
</tr>
<tr>
<td>callback</td>
<td></td>
<td>Dwolla will POST a Callback containing results of the checkout when it is completed.</td>
</tr>
<tr>
<td>redirect</td>
<td></td>
<td>User will be redirected to this URL after successfully checking out, or cancelling.</td>
</tr>
<tr>
<td>purchaseOrder</td>
<td></td>
<td>A purchaseOrder JSON object. See below.</td>
</tr>
<tr>
<td>checkoutWithApi</td>
<td>yes</td>
<td>Create a <em>PayLater</em> checkout.  Defaults to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td>orderId</td>
<td>yes</td>
<td>Custom string to identify the checkout.  Not persisted in resulting transaction.</td>
</tr>
<tr>
<td>allowFundingSources</td>
<td>yes</td>
<td>Allow the user to pay with a funding source other than their account Balance.  Defaults to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td>additionalFundingSources</td>
<td>yes</td>
<td>If <code class="prettyprint">allowFundingSources</code> enabled, use this to filter the types of funding sources allowed. <br> <code class="prettyprint">credit</code>: Only allow Dwolla Credit, if both the merchant and user support it <br> <code class="prettyprint">banks</code>: Only allow bank (ACH) funding sources <br> <code class="prettyprint">fisync</code>: Only allow FiSync-enabled bank funding sources <br> <code class="prettyprint">realtime</code>: Only allow <code class="prettyprint">credit</code> and <code class="prettyprint">fisync</code> sources <br> <code class="prettyprint">true</code>: Allow all funding source types <br> <code class="prettyprint">false</code>: Do not allow any funding sources</td>
</tr>
<tr>
<td>profileId</td>
<td>yes</td>
<td>This feature allows a recipient to display a different avatar and name, to collect money on a different person/entity&rsquo;s behalf. Requires special permission to use. Contact us if you&rsquo;re interested!</td>
</tr>
</tbody></table>

<h3 id="purchaseorder-object">PurchaseOrder Object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>destinationId</td>
<td></td>
<td>Dwolla ID of the user who will receive the payment in this checkout.</td>
</tr>
<tr>
<td>total</td>
<td></td>
<td>Total checkout amount.</td>
</tr>
<tr>
<td>tax</td>
<td>yes</td>
<td>Order tax total.  For order display purposes only, not persisted.</td>
</tr>
<tr>
<td>discount</td>
<td>yes</td>
<td>Order discount (must be negative).  For order display purposes only, not persisted.</td>
</tr>
<tr>
<td>shipping</td>
<td>yes</td>
<td>Order shipping total.  For order display purposes only, not persisted.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>A note of max 255 chars. to attach to the resulting payment.</td>
</tr>
<tr>
<td>facilitatorAmount</td>
<td>yes</td>
<td>Amount of the facilitator fee to override. Only applicable if the facilitator fee feature is enabled. If set to <code class="prettyprint">0</code>, facilitator fee is disabled for transaction.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>An object containing up to 10 key-value pairs of your choice which is persisted with the resulting transaction.  <a href="#metadata">Learn about Metadata</a></td>
</tr>
<tr>
<td>orderItems</td>
<td>yes</td>
<td>An array of JSON object(s) which contain a <code class="prettyprint">name</code>, <code class="prettyprint">description</code>, <code class="prettyprint">quantity</code>, and <code class="prettyprint">price</code>.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-checkout">Retrieve a Checkout</h2>

<p>Fetch an existing checkout by its <code class="prettyprint">checkoutId</code> to get its status and details.</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"CheckoutId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"684862bc-8d94-4e53-9c41-26398b4b7fac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"FundingSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69960</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ProfileId"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DestinationTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69959</span><span class="p">,</span><span class="w">
        </span><span class="s2">"OrderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A somewhat tasty non-vegetarian sandwich"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prime Rib Sandwich"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/offsitegateway/checkouts/{checkoutId}? client_id={key}&amp;client_secret={secret}</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<p>This returns the <code class="prettyprint">CheckoutId</code>, <code class="prettyprint">Discount</code>, <code class="prettyprint">Shipping</code>, <code class="prettyprint">Tax</code>, <code class="prettyprint">Total</code>, <code class="prettyprint">OrderItems</code>, <code class="prettyprint">ProfileId</code>, <code class="prettyprint">Metadata</code> of the checkout and some additional information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Status</td>
<td>Status of the checkout.  <br>Possible values: <code class="prettyprint">Created</code>, <code class="prettyprint">ReadyForApiCheckout</code>, <code class="prettyprint">Expired</code>, <code class="prettyprint">Completed</code></td>
</tr>
<tr>
<td>FundingSource</td>
<td>Type of funding source used to complete the checkout.  <br>Possible values: <code class="prettyprint">Balance</code>, <code class="prettyprint">Bank</code>, <code class="prettyprint">null</code></td>
</tr>
<tr>
<td>TransactionId</td>
<td>For the resulting payment, this is the <a href="#how-transactions-work"><em>Sender&rsquo;s</em> Transaction ID</a>.</td>
</tr>
<tr>
<td>DestinationTransactionId</td>
<td>For the resulting payment, this is the <a href="#how-transactions-work"><em>Recipient&rsquo;s</em> Transaction ID</a>.</td>
</tr>
</tbody></table>

<h2 id="complete-a-paylater-checkout">Complete a PayLater Checkout</h2>

<p>Finish a PayLater checkout.  This will attempt to create the payment.</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>If successful, you&rsquo;ll get back:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CheckoutId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"041f503b-bf68-4d35-83b3-bc6304a98e78"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"TestMode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69958</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DestinationTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69957</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<blockquote>
<p>Otherwise, you might get an error like this one:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="s2">"There are insufficient funds for this transaction."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="err">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://uat.dwolla.com/oauth/rest/offsitegateway/checkouts/{checkoutId}/complete</code></p>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Amount</td>
<td>Payment amount</td>
</tr>
<tr>
<td>CheckoutId</td>
<td>Same Checkout ID you passed in!</td>
</tr>
<tr>
<td>OrderId</td>
<td>Any order ID provided when the checkout was created.  Otherwise, <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>TestMode</td>
<td>Boolean.  True if <code class="prettyprint">Checkout.test</code> was set to true when checkout was created.</td>
</tr>
<tr>
<td>TransactionId</td>
<td>For the resulting payment, this is the <a href="#how-transactions-work"><em>Sender&rsquo;s</em> Transaction ID</a>.</td>
</tr>
<tr>
<td>DestinationTransactionId</td>
<td>For the resulting payment, this is the <a href="#how-transactions-work"><em>Recipient&rsquo;s</em> Transaction ID</a>.</td>
</tr>
</tbody></table>

          <h1 id="funding-sources">Funding Sources</h1>

<h2 id="list-funding-sources">List Funding Sources</h2>

<h2 id="lookup-a-funding-source">Lookup a Funding Source</h2>

<h2 id="add-new-funding-source">Add new Funding Source</h2>

<h2 id="verify-a-funding-source">Verify a Funding Source</h2>

          <h1 id="money-requests">Money Requests</h1>

<p>Dwolla&rsquo;s API exposes methods to view, create, and fulfill/cancel money requests. All of the methods below require the <code class="prettyprint">Request</code> OAuth token scope.</p>

<h2 id="list-money-requests">List Money Requests</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries: </p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Get list of pending requests
 **/
$requests = $Dwolla-&gt;requests();
if(!$requests) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($requests); }
</pre>
<pre class="highlight ruby"><span class="c1"># Example 1: Get all pending requests</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">get</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1:
      Get a list of pending requests
      for the user with the given oauth token
'''</span>
<span class="n">pending_requests</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_pending_requests</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">pending_requests</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * List pending money requests for the user associated with the
 * OAuth token
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">requests</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/requests/?oauth_token={token}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>Valid OAuth token with the <code class="prettyprint">Request</code> scope.</td>
</tr>
<tr>
<td>startDate</td>
<td>yes</td>
<td>Earliest date and time for which to retrieve pending requests (defaults to 0300 UTC for current day)</td>
</tr>
<tr>
<td>endDate</td>
<td>yes</td>
<td>Latest date and time for which to retrieve pending requests (defaults to UTC current date/time)</td>
</tr>
<tr>
<td>limit</td>
<td>yes</td>
<td>Number of pending requests to retrieve (defaults to 20, must be in range of 1-200)</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">640</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spencer Hunter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-706-1396"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"DateRequested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-23T21:49:06Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="w"> </span><span class="p">,</span><span class="w">
            </span><span class="s2">"Transaction"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CancelledBy"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"DateCancelled"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SenderAssumeFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SenderAssumeAdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">663</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spencer Hunter"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-706-1396"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"DateRequested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-25T21:58:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="w"> </span><span class="p">,</span><span class="w">
            </span><span class="s2">"Transaction"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CancelledBy"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"DateCancelled"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SenderAssumeFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SenderAssumeAdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"InvoiceDate"</span><span class="p">:</span><span class="w">  </span><span class="s2">"12-06-2014"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"TShirtSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Small"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"blah"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blah"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="lookup-money-request">Lookup Money Request</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries: </p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Get request by ID
 **/
$request = $Dwolla-&gt;requestById($requestId);
if(!$request) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($request); }
</pre>
<pre class="highlight ruby"><span class="c1"># Example 1: Get request details for request '12345'</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">)</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1:
      Get detailed information for the request
      with the given 'request_id'
'''</span>
<span class="n">request_id</span> <span class="o">=</span> <span class="s">'2209516'</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_request</span><span class="p">(</span><span class="n">request_id</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Fetch detailed information about a money request by specific id '12345678'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">requestById</span><span class="p">(</span><span class="s1">'12345678'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/requests/{request_id}?oauth_token={token}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>Valid OAuth token with the <code class="prettyprint">Request</code> scope.</td>
</tr>
<tr>
<td>request_id</td>
<td>no</td>
<td>Request ID of the target request to look-up.</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">660</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spencer Hunter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-706-1396"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DateRequested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-25T17:38:26Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="w"> </span><span class="p">,</span><span class="w">
        </span><span class="s2">"Transaction"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"CancelledBy"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DateCancelled"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SenderAssumeFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SenderAssumeAdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"AdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"InvoiceDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-06-2014"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TShirtSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Small"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"blah"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blah"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="create">Create</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Request money ($1.00) to a Dwolla ID 
 **/
$requestId = $Dwolla-&gt;request('812-713-9234', 1.00);
if(!$requestId) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { echo("Request ID: {$requestId} \n"); }
</pre>
<pre class="highlight ruby"><span class="c1"># Example 1: Request 1.00 from a Dwolla ID</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">create</span><span class="p">({</span><span class="ss">:sourceId</span><span class="o">=&gt;</span> <span class="s1">'812-114-1111'</span><span class="p">,</span> <span class="ss">:amount</span><span class="o">=&gt;</span> <span class="s1">'1.00'</span><span class="p">})</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1:
      Initiate a money request
'''</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">request_funds</span><span class="p">(</span><span class="s">'1.00'</span><span class="p">,</span> <span class="s">'reflector@dwolla.com'</span><span class="p">,</span> <span class="n">_keys</span><span class="o">.</span><span class="n">pin</span><span class="p">,</span> <span class="n">source_type</span><span class="o">=</span><span class="s">'Email'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Request $5 from Source ID '812-111-1111'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="s1">'812-111-1111'</span><span class="p">,</span> <span class="s1">'5.00'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/requests/</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>Valid OAuth token with the <code class="prettyprint">Request</code> scope.</td>
</tr>
<tr>
<td>sourceId</td>
<td>no</td>
<td>ID of user to request funds from. Must be either a Dwolla ID, FB ID, Twitter screen-name, phone number, or e-mail address.</td>
</tr>
<tr>
<td>amount</td>
<td>no</td>
<td>Amount of funds to request from user (please exclude currency symbols; this will cause your request to be rejected).</td>
</tr>
<tr>
<td>sourceType</td>
<td>yes</td>
<td>Type of source user (either Dwolla, Email or Phone).</td>
</tr>
<tr>
<td>facilitatorAmount</td>
<td>yes</td>
<td>Amount of the facilitator feeto override. Only applicable if the facilitator fee feature is enabled. If set to 0, facilitator fee is disabled for transaction. Cannot exceed 50% of the &lsquo;amount&rsquo;.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Note to attach to request (250 character limit).</td>
</tr>
<tr>
<td>senderAssumeCosts</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> if the fulfilling user is to assume the Dwolla fee. Defaults to <code class="prettyprint">false</code>; does not affect facilitator fees.</td>
</tr>
<tr>
<td>senderAssumeAdditionalFees</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> if the fulfilling user is to assume all facilitator fees. Defaults to <code class="prettyprint">false</code>; does not affect the Dwolla transaction fee.</td>
</tr>
<tr>
<td>additionalFees</td>
<td>yes</td>
<td>Array of additional facilitator fees</td>
</tr>
<tr>
<td>&ndash;&gt; destinationId</td>
<td>yes</td>
<td>Facilitator&rsquo;s Dwolla ID</td>
</tr>
<tr>
<td>&ndash;&gt; amount</td>
<td>yes</td>
<td>Facilitator amount.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mi">996</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="fulfill-money-request">Fulfill Money Request</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Fulfill request with ID
 **/
$fulfilledRequest = $Dwolla-&gt;fulfillRequest($requestId, $pin);
if(!$fulfilledRequest) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($fulfilledRequest); }
</pre>
<pre class="highlight ruby"><span class="c1"># Example 1: Fulfill a request to ID 12345 of amount 1.00</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">fulfill</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">,</span> <span class="p">{</span><span class="ss">:pin</span> <span class="o">=&gt;</span><span class="p">:</span> <span class="s1">'1234'</span><span class="p">,</span> <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="s1">'1.00'</span><span class="p">})</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1:
      Fulfill (:pay) a pending payment request
'''</span>
<span class="n">request_id</span> <span class="o">=</span> <span class="s">'2214710'</span>
<span class="n">fulfilled_request</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">fulfill_request</span><span class="p">(</span><span class="n">request_id</span><span class="p">,</span> <span class="n">_keys</span><span class="o">.</span><span class="n">pin</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">fulfilled</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Fulfill money request '12345678' of amount '10.00'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">fulfillRequest</span><span class="p">(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">pin</span><span class="p">,</span> <span class="s1">'12345678'</span><span class="p">,</span> <span class="s1">'10.00'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/requests/{request_id}/fulfill</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>Valid OAuth token with the <code class="prettyprint">Request</code> scope.</td>
</tr>
<tr>
<td>request_id</td>
<td>no</td>
<td>The request ID to fulfill.</td>
</tr>
<tr>
<td>pin</td>
<td>no</td>
<td>The PIN associated with the user&rsquo;s account.</td>
</tr>
<tr>
<td>amount</td>
<td>no</td>
<td>Amount to pay for request (must be greater than or equal to the request amount or the request will fail).</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Note to attach to transaction (250 character limit).</td>
</tr>
<tr>
<td>fundsSource</td>
<td>yes</td>
<td>ID of funding source to use for transaction (defaults to <code class="prettyprint">Balance</code>).</td>
</tr>
<tr>
<td>assumeCosts</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> for the fulfilling user to assume the Dwolla fee, <code class="prettyprint">false</code> for the destination user to assume the fee.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>Optional JSON object of a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">147659</span><span class="p">,</span><span class="w">
        </span><span class="s2">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"SentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-22T13:11:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-22T13:11:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="w"> </span><span class="p">,</span><span class="w">
        </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Schonfeld"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-600-6705"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Schonfeld"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="err">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="cancel-a-money-request">Cancel a Money Request</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Cancel request with ID
 **/
$canceledRequest = $Dwolla-&gt;cancelRequest($requestId);
if(!$canceledRequest) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { echo("Canceled? {$canceledRequest} \n"); }
</pre>
<pre class="highlight ruby"><span class="c1"># Example 1: Cancel request with ID '12345'</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">cancel</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">)</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1:
      Cancel a pending money request
'''</span>
<span class="n">request_id</span> <span class="o">=</span> <span class="n">request</span>
<span class="n">canceled_request</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">cancel_request</span><span class="p">(</span><span class="n">request_id</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">canceled_request</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Cancel money request with ID '12345678'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">cancelRequest</span><span class="p">(</span><span class="s1">'12345678'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/requests/{request_id}/cancel</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>Valid OAuth token with the <code class="prettyprint">Request</code> scope.</td>
</tr>
<tr>
<td>request_id</td>
<td>no</td>
<td>The request ID to cancel/deny.</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll recieve this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

          <h1 id="users">Users</h1>

<p>The API exposes methods for applications to look up users. Either <a href="#get-full-account-info">full</a> or <a href="#get-basic-account-info">basic</a> info is accessible. Full account information requires the <code class="prettyprint">AccountInfoFull</code> scope to be set for the user&rsquo;s OAuth token. </p>

<h2 id="lookup-users-by-location">Lookup Users By Location</h2>

<p>This method helps retrieve Dwolla users near a location (lat and lon).</p>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Get users nearby a given geolocation
 **/
$lat = "40.708322";
$long = "-74.0147477";

$users = $Dwolla-&gt;usersNearby($lat, $long);
if(!$users) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($users); }
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
      Fetch users near lat 45, lon 45
'''</span>
<span class="n">me</span> <span class="o">=</span> <span class="n">Dwolla</span><span class="o">.</span><span class="n">get_nearby_users</span><span class="p">(</span><span class="s">'45'</span><span class="p">,</span> <span class="s">'45'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">me</span><span class="p">)</span>
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1: </span>
<span class="c1">#   Fetch users near account associated with</span>
<span class="c1">#   the configured OAuth token</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Users</span><span class="p">.</span><span class="nf">nearby</span><span class="p">()</span>
</pre>
<pre class="highlight javascript"><span class="c1">// Example 1: Users near lat 45, lon 45
</span><span class="nx">Dwolla</span><span class="p">.</span><span class="nx">nearbyUsers</span><span class="p">(</span><span class="s1">'45'</span><span class="p">,</span> <span class="s1">'45'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/users/nearby?client_id={client_id}&amp;client_secret={client_secret}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>no</td>
<td>Consumer key for the application.</td>
</tr>
<tr>
<td>client_secret</td>
<td>no</td>
<td>Consumer secret for the application.</td>
</tr>
<tr>
<td>latitude</td>
<td>no</td>
<td>Latitude coordinates (must be between -90.0 and 90.0)</td>
</tr>
<tr>
<td>longitude</td>
<td>no</td>
<td>Longitude coordinates (must be between -180.0 and 180.0)</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-734-7288"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.708448</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Schonfeld"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-74.014429</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Delta"</span><span class="p">:</span><span class="w"> </span><span class="mf">114.72287700000001</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-734-7288"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="get-basic-account-info">Get Basic Account Info</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Fetch basic account information
 *   for a given Dwolla ID
 **/
$user = $Dwolla-&gt;getUser('812-546-3855');
if(!$user) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($user); } // Print user information
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1: </span>
<span class="c1">#   Fetch basic account information</span>
<span class="c1">#   for a given Dwolla ID</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Users</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'812-626-8794'</span><span class="p">)</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
      Fetch basic account information
      for a given Dwolla ID
'''</span>
<span class="n">me</span> <span class="o">=</span> <span class="n">Dwolla</span><span class="o">.</span><span class="n">get_account_info</span><span class="p">(</span><span class="s">'812-626-8794'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">me</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/**
 * EXAMPLE 1: 
 *   Fetch basic account information
 *   for a given Dwolla ID
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">basicAccountInfo</span><span class="p">(</span><span class="s1">'812-546-3855'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/users/{account_identifier}?client_id={client_id}&amp;client_secret={client_secret}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>no</td>
<td>Consumer key for the application.</td>
</tr>
<tr>
<td>client_secret</td>
<td>no</td>
<td>Consumer secret for the application.</td>
</tr>
<tr>
<td>account_identifier</td>
<td>no</td>
<td>Dwolla ID or e-mail address associated with the account desired for lookup.</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-1111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.584546</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.634167</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="get-full-account-info">Get Full Account Info</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Fetch account information for the
 *   account associated with the provided
 *   OAuth token
 **/
$me = $Dwolla-&gt;me();
if(!$me) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($me); } // Print user information
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1:</span>
<span class="c1">#   Fetch account information for the</span>
<span class="c1">#   account associated with the provided</span>
<span class="c1">#   OAuth token</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Users</span><span class="p">.</span><span class="nf">get</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
      Fetch account information for the
      account associated with the provided
      OAuth token
'''</span>
<span class="n">me</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_account_info</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">me</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/**
 * EXAMPLE 1: 
 *   Fetch account information for the
 *   account associated with the provided
 *   OAuth token
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">fullAccountInfo</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/users/?oauth_token={token}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>A valid OAuth token with <code class="prettyprint">AccountInfoFull</code> scope.</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-1111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.584546</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.634167</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Personal"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="get-avatar">Get Avatar</h2>

<p>User avatars can also be retrieved using the API. This requires no authentication and will return a 220px x 220px PNG file.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.dwolla.com/avatars/{dwolla_id}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dwolla_id</td>
<td>no</td>
<td>Target user&rsquo;s Dwolla ID</td>
</tr>
</tbody></table>

          <h1 id="contacts">Contacts</h1>

<p>The Dwolla API exposes functionality to allow users to look-up the contacts of another user or users near a certain location (latitude and longitude).</p>

<p>In order to retrieve a user&rsquo;s contacts, an OAuth token is required with the <code class="prettyprint">Contacts</code> permission scope. </p>

<h2 id="get-a-user&#39;s-contacts">Get a user&rsquo;s contacts</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/contacts/?oauth_token={token}</code></p>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight json"></pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="sd">/**
 * EXAMPLE 1: 
 *   Fetch last 10 contacts from the 
 *   account associated with the provided
 *   OAuth token
 **/</span>
<span class="nv">$contacts</span> <span class="o">=</span> <span class="nv">$Dwolla</span><span class="o">-&gt;</span><span class="na">contacts</span><span class="p">(</span><span class="s1">'Ben'</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$contacts</span><span class="p">)</span> <span class="p">{</span> <span class="k">echo</span> <span class="s2">"Error: </span><span class="si">{</span><span class="nv">$Dwolla</span><span class="o">-&gt;</span><span class="na">getError</span><span class="p">()}</span> <span class="nx">\n</span><span class="s2">"; } // Check for errors
else { print_r(</span><span class="nv">$contacts</span><span class="s2">); } // Print contacts

/**
 * EXAMPLE 2: 
 *   Search through the contacts of the
 *   account associated with the provided
 *   OAuth token for 'David', return 20 
 *   "</span><span class="nx">Dwolla</span><span class="s2">" type results. 
 **/

</span><span class="nv">$contacts</span><span class="s2"> = </span><span class="nv">$Dwolla-&gt;contacts</span><span class="s2">('David', array('dwolla'), 20);
if(!</span><span class="nv">$contacts</span><span class="s2">) { echo "</span><span class="nx">Error</span><span class="o">:</span> <span class="p">{</span><span class="nv">$Dwolla</span><span class="o">-&gt;</span><span class="na">getError</span><span class="p">()}</span> <span class="nx">\n</span><span class="s2">"; } // Check for errors
else { print_r(</span><span class="nv">$contacts</span><span class="s2">); } // Print contacts
?&gt;
</span></pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1: </span>
<span class="c1">#   Fetch last 10 contacts from the </span>
<span class="c1">#   account associated with the provided</span>
<span class="c1">#   OAuth token</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Contacts</span><span class="p">.</span><span class="nf">get</span>


<span class="c1"># EXAMPLE 2: </span>
<span class="c1">#   Search through the contacts of the</span>
<span class="c1">#   account associated with the provided</span>
<span class="c1">#   OAuth token</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Contacts</span><span class="p">.</span><span class="nf">get</span><span class="p">({</span><span class="ss">:search</span> <span class="o">=&gt;</span> <span class="s1">'Ben'</span><span class="p">})</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
      Fetch last 10 contacts from the 
      account associated with the provided
      OAuth token
'''</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_contacts</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">)</span>


<span class="s">'''
    EXAMPLE 2: 
      Search through the contacts of the
      account associated with the provided
      OAuth token
'''</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_contacts</span><span class="p">(</span><span class="s">'Ben'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/**
 * EXAMPLE 1: 
 *   Fetch last 10 contacts from the 
 *   account associated with the provided
 *   OAuth token
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">contacts</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

<span class="cm">/**
 * EXAMPLE 2: 
 *   Search through the contacts of the
 *   account associated with the provided
 *   OAuth token
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">contacts</span><span class="p">({</span><span class="na">search</span><span class="p">:</span> <span class="s1">'Ben'</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

</pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>A valid OAuth token with <code class="prettyprint">Contacts</code> scope.</td>
</tr>
<tr>
<td>search</td>
<td>yes</td>
<td>Search term used to search contacts.</td>
</tr>
<tr>
<td>types</td>
<td>yes</td>
<td>Account types to return.</td>
</tr>
<tr>
<td>limit</td>
<td>yes</td>
<td>Number of contacts to return (default is 10).</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Schmoe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-999-0090"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-999-0090"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"St Louis"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MO"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sam Schmoe Super Foods"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-999-0091"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-999-0091"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moe Schmoe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-999-0092"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-999-0092"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simpsonville"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h2 id="find-contacts-by-location">Find contacts by location</h2>

<p>Please note that this will not return any personal account results; only businesses (&lsquo;spots&rsquo;) will be returned by searching via this endpoint.</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/contacts/nearby?client_id={client_id}&amp;client_secret={client_secret}</code></p>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight json"></pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="sd">/**
 * EXAMPLE 1: 
 * Fetch contacts of businesses near lat 45, lon 45
 **/</span>
<span class="nv">$contacts</span> <span class="o">=</span> <span class="nv">$Dwolla</span><span class="o">-&gt;</span><span class="na">nearby</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">45</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$contacts</span><span class="p">)</span> <span class="p">{</span> <span class="k">echo</span> <span class="s2">"Error: </span><span class="si">{</span><span class="nv">$Dwolla</span><span class="o">-&gt;</span><span class="na">getError</span><span class="p">()}</span> <span class="nx">\n</span><span class="s2">"; } // Check for errors
else { print_r(</span><span class="nv">$contacts</span><span class="s2">); } // Print contacts
?&gt;
</span></pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1: </span>
<span class="c1">#   Get a list of nearby Dwolla spots</span>
<span class="c1">#   for a given set of coordinates</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Contacts</span><span class="p">.</span><span class="nf">nearby</span><span class="p">({</span><span class="ss">:latitude</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:longitude</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">})</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
      Fetch spots near  41.59 and 
      -93.62 (default parameters in dwolla-python)
'''</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_nearby_spots</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/**
 * EXAMPLE 1: 
 * Fetch all spots near lat 45 and 
 * long 45
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">nearby</span><span class="p">(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">apiSecret</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<h3 id="http-request">HTTP Request</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>no</td>
<td>Consumer key for the application</td>
</tr>
<tr>
<td>client_secret</td>
<td>no</td>
<td>Consume secret for the application</td>
</tr>
<tr>
<td>latitude</td>
<td>no</td>
<td>Latitude coordinates (between -90.0 and 90.0)</td>
</tr>
<tr>
<td>longitude</td>
<td>no</td>
<td>Longitude coordinates (between -180.0 and 180.0)</td>
</tr>
<tr>
<td>range</td>
<td>yes</td>
<td>Range to retrieve spots for in miles (default 10, minimum 1)</td>
</tr>
<tr>
<td>limit</td>
<td>yes</td>
<td>Number of spots to retrieve (default 10, minimum 1, maximum 100)</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111 West 5th St. Suite A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-2222"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-1111"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatar.aspx?u=812-111-1111"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5852257</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.6245059</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Spot 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50309"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111 West 5th St. Suite B"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-1111"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-2222"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatar.aspx?u=812-111-2222"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5852257</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.6245059</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Spot 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50309"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

          <h1 id="balance">Balance</h1>

<p>This method can be used to access the account balance for a user with an authorized OAuth token. Please note that the application must request a token with the <code class="prettyprint">Balance</code> scope or else the endpoint will return an error. </p>

<h2 id="get-balance">Get Balance</h2>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Fetch account balance for the 
 *   account associated with the provided
 *   OAuth token
 **/
$balance = $Dwolla-&gt;balance();
if($balance == NULL) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { echo $balance; } // Print user's balance
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1: </span>
<span class="c1">#   Get the balance of the authenticated user</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Balance</span><span class="p">.</span><span class="nf">get</span>
</pre>
<pre class="highlight python"><span class="n">balance</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">get_balance</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/***
 * Example 1:
 *
 * Get balance of the user associated with the OAuth token.
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">balance</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/balance/?oauth_token={token}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>A valid OAuth token with <code class="prettyprint">Balance</code> scope.</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mf">55.76</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

          <h1 id="masspay">MassPay</h1>

<h2 id="create-a-new-job">Create a new Job</h2>

<h2 id="list-all-jobs">List all Jobs</h2>

<h2 id="retrieve-a-job">Retrieve a Job</h2>

<h2 id="list-a-job&#39;s-items">List a Job&rsquo;s Items</h2>

<h2 id="retrieve-a-job&#39;s-item">Retrieve a Job&rsquo;s Item</h2>

          <h1 id="transactions">Transactions</h1>

<h3 id="how-transactions-work">How Transactions Work</h3>

<p>When a payment is placed, 2 or more transactions are created.  At least one is created to credit the recipient&rsquo;s account balance, and another one to debit the sender&rsquo;s account balance.  </p>

<p>As a simple example, let&rsquo;s say Bob sends $5 to Alice from his account balance.  From this action, two <code class="prettyprint">Transactions</code> are created:</p>

<ol>
<li>Transaction <code class="prettyprint">512010</code>: credits Alice&rsquo;s account with $5</li>
<li>Transaction <code class="prettyprint">512011</code>: deducts $5 from Bob&rsquo;s account</li>
</ol>

<p>It&rsquo;s important to keep in mind that when Bob looks at this payment, he will see the credit transaction&rsquo;s ID: <code class="prettyprint">512010</code>.  This is called the <strong>Sender&rsquo;s Transaction ID</strong>. </p>

<p>Similarly, when Alice looks up this payment, she will see a different transaction of ID <code class="prettyprint">512011</code>, which we call the <strong>Recipient&rsquo;s Transaction ID</strong>.</p>

<h4 id="additional-transactions">Additional Transactions</h4>

<p>Additional transactions are created: </p>

<ul>
<li>if the payment is bank sourced, to fund the payment</li>
<li>if the payment is over $10 it will incur a $0.25 <em>Dwolla Fee</em></li>
<li>if there is a facilitator fee</li>
</ul>

<h3 id="transaction-types">Transaction Types</h3>

<h3 id="transaction-statuses">Transaction Statuses</h3>

<h2 id="list-a-user&#39;s-transactions">List a user&rsquo;s transactions</h2>

<h2 id="list-an-app&#39;s-transactions">List an app&rsquo;s transactions</h2>

<h2 id="get-a-specific-transaction">Get a specific transaction</h2>

          <h1 id="transaction-stats">Transaction Stats</h1>

          <h1 id="send-money">Send Money</h1>

<p>The API allows users to easily send money to other users&#39; Dwolla accounts via their Dwolla ID, Facebook ID, Twitter screen-name, phone number, or e-mail address from the account associated with an active OAuth token. In order for the transaction to successfully complete, the OAuth token must be granted with the <code class="prettyprint">Send</code> scope. </p>

<h3 id="http-request">HTTP Request</h3>

<blockquote>
<p>Examples with Dwolla Libraries:</p>
</blockquote>
<pre class="highlight php">/**
 * EXAMPLE 1: 
 *   Send money ($1.00) to a Dwolla ID 
 **/
$transactionId = $Dwolla-&gt;send($pin, '812-734-7288', 1.00);
if(!$transactionId) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { echo "Send transaction ID: {$transactionId} \n"; } // Print Transaction ID
</pre>
<pre class="highlight ruby"><span class="c1"># EXAMPLE 1:</span>
<span class="c1">#   Send money ($1.00) to a Dwolla ID</span>
<span class="n">transactionId</span> <span class="o">=</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">send</span><span class="p">({</span><span class="ss">:destinationId</span> <span class="o">=&gt;</span> <span class="s1">'812-626-8794'</span><span class="p">,</span> <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span> <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="vi">@pin</span><span class="p">})</span>
<span class="n">pp</span> <span class="n">transactionId</span>
</pre>
<pre class="highlight python"><span class="s">'''
    EXAMPLE 1: 
      Send money ($1.00) to a Dwolla ID 
'''</span>
<span class="n">transaction</span> <span class="o">=</span> <span class="n">DwollaUser</span><span class="o">.</span><span class="n">send_funds</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="s">'812-626-8794'</span><span class="p">,</span> <span class="n">_keys</span><span class="o">.</span><span class="n">pin</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">transaction</span><span class="p">)</span>
</pre>
<pre class="highlight javascript"><span class="cm">/**
 * EXAMPLE 1: 
 *   Send money ($1.00) to a Dwolla ID 
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">pin</span><span class="p">,</span> <span class="s1">'812-626-8794'</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</pre>

<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/transactions/send</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oauth_token</td>
<td>no</td>
<td>Valid OAuth token with the <code class="prettyprint">Request</code> scope.</td>
</tr>
<tr>
<td>destinationId</td>
<td>no</td>
<td>Identification of the user to send funds to. Must be the Dwolla identifier, Facebook identifier, Twitter identifier, phone number, or email address.</td>
</tr>
<tr>
<td>pin</td>
<td>no</td>
<td>The PIN associated with the user&rsquo;s account.</td>
</tr>
<tr>
<td>amount</td>
<td>no</td>
<td>Amount of funds to transfer to destination user.</td>
</tr>
<tr>
<td>destinationType</td>
<td>yes</td>
<td>Type of destination user (defaults to &lsquo;Dwolla&rsquo;, possible values are &lsquo;Dwolla&rsquo;, &lsquo;Email&rsquo;, and &lsquo;Phone&rsquo;).</td>
</tr>
<tr>
<td>fundsSource</td>
<td>yes</td>
<td>ID of funding source to use for transaction (defaults to <code class="prettyprint">Balance</code>).</td>
</tr>
<tr>
<td>assumeCosts</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> for the fulfilling user to assume the Dwolla fee, <code class="prettyprint">false</code> for the destination user to assume the fee.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> if the fulfilling user is to assume all facilitator fees. Defaults to <code class="prettyprint">false</code>; does not affect the Dwolla transaction fee.</td>
</tr>
<tr>
<td>additionalFees</td>
<td>yes</td>
<td>Array of additional facilitator fees</td>
</tr>
<tr>
<td>&ndash;&gt; destinationId</td>
<td>yes</td>
<td>Facilitator&rsquo;s Dwolla ID</td>
</tr>
<tr>
<td>&ndash;&gt; amount</td>
<td>yes</td>
<td>Facilitator amount.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>Optional JSON object of a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
<tr>
<td>assumeAdditionalFees</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> if the sending user will assume all additional facilitator fees, <code class="prettyprint">false</code> if the destination user will assume the fees. Defaults to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td>facilitatorAmount</td>
<td>yes</td>
<td>Amount of the facilitator fee to override. Only applicable if the facilitator fee feature is enabled. If set to 0, facilitator fee is disabled for transaction. Cannot exceed 50% of the &lsquo;amount&rsquo;.</td>
</tr>
</tbody></table>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

          <h1 id="refund">Refund</h1>

          <h1 id="changelog">Changelog</h1>

      </div>
      <div class="dark-box">
          <div id="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="js">node.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
